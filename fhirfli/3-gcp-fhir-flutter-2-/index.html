<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=content-security-policy content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; form-action 'self'; frame-src 'self' https://www.youtube.com/ https://fhirpath.mayjuun.com/ https://app.termly.io/; img-src 'self' 'unsafe-inline' data: w3.org/svg/2000; object-src 'none'; style-src 'self' https://fonts.googleapis.com https://www.google-analytics.com 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval' fhirpath.mayjuun.com https://app.termly.io/embed-policy.min.js https://fonts.googleapis.com https://www.google-analytics.com; connect-src 'self' https://www.google-analytics.com;"><meta charset=utf-8><meta name=description content="MayJuun: User Interfaces That Work"><meta name=author content="MayJuun"><meta name=generator content="Hugo 0.111.3"><meta name=format-detection content="telephone=no"><meta name=viewport content="width=device-width,initial-scale=1"><title>GCP Healthcare API Part 2: Attempting Authentication</title><link rel=icon href=https://mayjuun.com/images/favicon-1.ico><link rel=stylesheet href=https://mayjuun.com/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://mayjuun.com/plugins/ionicons/ionicons.min.css><link rel=stylesheet href=https://mayjuun.com/plugins/animate-css/animate.css><link rel=stylesheet href=https://mayjuun.com/plugins/slider/slider.css><link rel=stylesheet href=https://mayjuun.com/plugins/slick/slick.css><link rel=stylesheet href=https://mayjuun.com/plugins/facncybox/jquery.fancybox.css><link rel=stylesheet href=https://mayjuun.com/plugins/hover/hover-min.css><link rel=stylesheet href=https://mayjuun.com/css/style.min.css integrity media=screen></head><body><section class="top-bar animated-header"><div class=container><div class=row><div class=col-lg-12><nav class="navbar navbar-expand-md navbar-light bg-light"><a class=navbar-brand href=https://mayjuun.com/><img src=https://mayjuun.com/images/logo-line.png alt=logo class=logo-box></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://mayjuun.com/>Home</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/about>About</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/solutions>Solutions</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/fhirfli>FHIR-FLI</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/blog>Blog</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/contact>Contact</a></li></div></nav></div></div></div></section><section class=global-page-header><div class=container><div class=row><div class=col-md-12><div class=block><h2>GCP Healthcare API Part 2: Attempting Authentication</h2><div class=solutions-meta><span>Monday, Mar 15, 2021</span>|
<span>Tags:
Flutter, FHIR速, GCP, Google Healthcare API, FHIR Store</span></div></div></div></div></div></section><section class=single-post><div class=container><div class=row><div class=col-md-12><div class=post-content><h2 id=gcp-healthcare-api---attempting-authentication>GCP Healthcare API - Attempting Authentication</h2><p>Again, I&rsquo;ve found this to be tricky, hence why I&rsquo;m documenting here, to hopefully make it easier for someone else. Remember, we should now have a FHIR速 store. The one I&rsquo;ve setup exists at:</p><p><a href=https://healthcare.googleapis.com/v1/projects/fhir-fli/locations/us/datasets/fhir-fli/fhirStores/fhir-fli>https://healthcare.googleapis.com/v1/projects/fhir-fli/locations/us/datasets/fhir-fli/fhirStores/fhir-fli</a></p><p>So I&rsquo;ve probably thrown these words around and not completely understanding the difference, so, for your edification:</p><ul><li>Authentication: who you are</li><li>Authorization: what you can do</li><li>Auditing logs: what you did</li></ul><p>This comes from Google&rsquo;s page on <a href=https://cloud.google.com/docs/authentication>Authentication</a>. I think we should use OAuth 2.0 client (partly because that&rsquo;s what SMART and most other authentication processes use), and because, it&rsquo;s for, Accessing private data on behalf of an end user. Sounds exactly what we&rsquo;re looking for. And google has an <a href=https://cloud.google.com/docs/authentication/end-user>Authenticating as an end user page</a>. It suggests we go to the IAM section of our project. Mine looks like this.</p><figure><img src=../../images/fhirfli/3-gcp-fhir-store/permissions.png width=50%></figure><p>Clicking on ROLES and ADD, and then searching FHIR, gives me these options. I decided to go for Editor.</p><figure><img src=../../images/fhirfli/3-gcp-fhir-store/roles.png width=50%></figure><p>After this, go to the top left hamburger, and select APIs & Services, then go to Oauth consent screen. If you have an organization you can choose internal, but in order to test it, I&rsquo;m going to choose external.</p><figure><img src=../../images/fhirfli/3-gcp-fhir-store/external.png width=50%></figure><p>Fill out the information on the next page. Make sure you fill out all with a * (they&rsquo;re mandatory!).</p><figure><img src=../../images/fhirfli/3-gcp-fhir-store/registration.png width=50%></figure><p>Click ADD OR REMOVE SCOPES, and add Cloud Healthcare API (you can just search for health).</p><figure><img src=../../images/fhirfli/3-gcp-fhir-store/scopes.png width=50%></figure><p>Next page you can add users (this is done by their email). If you selected internal, they will need to have an email within the domain of your organization. Then review, and go BACK TO DASHBOARD and select Credentials -> +CREATE CREDENTIALS -> OAuth client ID.</p></div></div></div></div></section><section id=call-to-action><div class=container><div class=row><div class=col-md-12><div class=block><h2 class="title wow fadeInDown" data-wow-delay=.3s data-wow-duration=500ms>Want to Learn More?</h1><a href=../../contact class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=.7s data-wow-duration=500ms>Contact Us</a></div></div></div></div></section><footer id=footer><div class=container><div class="row content-justify-between"><p class=copyright>Website Content: Copyright
<span><script>document.write((new Date).getFullYear())</script></span>by MayJuun. Contact us: <a href=mailto:info@mayjuun.com>info@mayjuun.com</a><br>Website Theme: Copyright 2020. Original design by <a href=http://www.themefisher.com target=_blank>Themefisher</a> under <a href=https://github.com/themefisher/timer-hugo/blob/master/LICENSE target=_blank>MIT license</a>, modified by MayJuun<br>FHIR速 is a registered trademark of Health Level Seven International (HL7) and its use does not constitute an endorsement of products by HL7速<div class="col copyright"><a href=https://mayjuun.com/policies target=_self>Policies</a>
~ <a href=https://mayjuun.com/policies/cookie-policy/ target=_self>Cookie Policy</a>
~ <a href=https://mayjuun.com/policies/disclaimer/ target=_self>Disclaimer</a>
~ <a href=https://mayjuun.com/policies/eula/ target=_self>EULA</a>
~ <a href=https://mayjuun.com/policies/privacy-notice/ target=_self>Privacy Notice</a>
~ <a href=https://mayjuun.com/policies/terms-and-conditions/ target=_self>Terms and Conditions</a></div></p></div></div></footer><script src=https://mayjuun.com/plugins/jQurey/jquery.min.js></script>
<script src=https://mayjuun.com/plugins/form-validation/jquery.form.js></script>
<script src=https://mayjuun.com/plugins/form-validation/jquery.validate.min.js></script>
<script src=https://mayjuun.com/plugins/slick/slick.min.js></script>
<script src=https://mayjuun.com/plugins/bootstrap/bootstrap.min.js></script>
<script src=https://mayjuun.com/plugins/wow-js/wow.min.js></script>
<script src=https://mayjuun.com/plugins/slider/slider.js></script>
<script src=https://mayjuun.com/plugins/facncybox/jquery.fancybox.js></script>
<script src=https://mayjuun.com/js/script.min.js></script>
<script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-50100304-2","auto"),ga("send","pageview")</script></body></html>