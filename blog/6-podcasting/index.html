<!doctype html><html lang=en-us><head><meta charset=utf-8><meta charset=utf-8><meta name=description content="MayJuun: Less Clicking, More Doctoring"><meta name=author content="MayJuun"><meta name=generator content="Hugo 0.81.0"><meta name=format-detection content="telephone=no"><meta name=viewport content="width=device-width,initial-scale=1"><title>Podcasting in an Open-Source Era</title><link rel=icon href=https://mayjuun.com/images/favicon.ico><link rel=stylesheet href=https://mayjuun.com/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://mayjuun.com/plugins/ionicons/ionicons.min.css><link rel=stylesheet href=https://mayjuun.com/plugins/animate-css/animate.css><link rel=stylesheet href=https://mayjuun.com/plugins/slider/slider.css><link rel=stylesheet href=https://mayjuun.com/plugins/slick/slick.css><link rel=stylesheet href=https://mayjuun.com/plugins/facncybox/jquery.fancybox.css><link rel=stylesheet href=https://mayjuun.com/plugins/hover/hover-min.css><link rel=stylesheet href=https://mayjuun.com/css/style.min.css integrity media=screen></head><body><section class="top-bar animated-header"><div class=container><div class=row><div class=col-lg-12><nav class="navbar navbar-expand-md navbar-light bg-light"><a class=navbar-brand href=https://mayjuun.com/><img src=https://mayjuun.com/images/logo.png alt=logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://mayjuun.com/>Home</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/blog>Meta-Blog</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/portfolio>Flutter Portfolio</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/gallery>Figma Gallery</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/about>About</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/service>Services</a></li><li class=nav-item><a class=nav-link href=https://mayjuun.com/contact>Contact</a></li></div></nav></div></div></div></section><section class=global-page-header><div class=container><div class=row><div class=col-md-12><div class=block><h2>Podcasting in an Open-Source Era</h2><div class=portfolio-meta><span>Sunday, May 2, 2021</span>|
<span>Tags:
podcast, code embers, hugo, tutorial</span></div></div></div></div></div></section><section class=single-post><div class=container><div class=row><div class=col-md-12><div class=post-img><img class=img-fluid alt src=https://mayjuun.com/images/blog/6-podcasting/pexels-tommy-lopez-765139.jpeg></div><div class=post-content><h2 id=intro-->Intro -</h2><p>Well, I can&rsquo;t say this is something I&rsquo;ll do with frequency, so I might as well write about this path on the meta-blog. We created an informatics podcast recently, available <a href=https://codeembers.com/>here</a>. From the time we recorded the original podcast to the time we had all steps/automation established, we unfortunately found ourselves in a position of needing to rebrand.</p><p>Looking back, this proved most beneficial, as it forced me to reflect on the steps I previously took to create a podcast that harnesses GitHub and Hugo for its RSS feeds. I also prefer the new brand to the old.</p><p>I drew heavy inspiration from the <a href=https://github.com/chrisreddington/cloudwithchris.com>Cloud with Chris</a> website/podcast, whose efforts are available under the open source license. They also have a cool setup where anyone can post podcast topic suggestions using the <a href=https://github.com/chrisreddington/cloudwithchris.com/issues>GitHub issues</a> section.</p><p><em>Disclaimer: I can&rsquo;t say every step will be perfect here, but hopefully this can at least give some breadcrumbs on where to look.</em></p><h2 id=three-repos-why>Three Repos? Why?</h2><p>The Code Embers podcast is built on three separate repos, so that I can have a clean separation of concerns. These repos are:</p><ol><li><strong>CONTENT:</strong> <a href=https://github.com/FireJuun/code-embers-website>Code Embers website</a> - This is where I make all changes to site content, including uploading new podcast files + descriptions</li><li><strong>THEME:</strong> <a href=https://github.com/FireJuun/cloud-theme>Cloud theme</a> - This is where I created my specific theme for my own podcast. If people want to fork/modify this theme, they are more than welcome it should be easier than the steps I needed to modify the <a href=https://github.com/chrisreddington/cloudwithchris.com/tree/master/themes/cloud-with-chris>original</a>.</li><li><strong>WEBSITE:</strong> <a href=https://github.com/FireJuun/codeembers.com>GitHub pages repo</a> - A single repo with all website content, updated via GitHub Actions everytime repo #1 publishes a new commit.</li></ol><p>From my end, the first two repos exist as a single folder structure that makes use of a GitHub submodule:</p><figure><img src=/images/blog/6-podcasting/site-hierarchy.png width=75%></figure><p>This allows me to rapidly prototype/build locally, while still providing a means for others to build upon my work without having to dive too far into the repo to see what changes were made on a specific section (namely&mldr;the theme).</p><h2 id=first-setup>First Setup</h2><p>If you want to modify this podcast website for your own purposes, follow these steps:</p><h3 id=clonefork-existing-repos-1-2>Clone/Fork Existing Repos (#1, #2)</h3><ul><li>Clone/fork the content (#<a href=https://github.com/FireJuun/code-embers-website>1</a>) and theme (#<a href=https://github.com/FireJuun/cloud-theme>2</a>) repos into your own repository. Create a blank repo for your website (#3)&mldr;discussed below.</li></ul><p>NOTE: when checking out a repo with submodules, I suggest adding the <code>--recursive</code> tag so that the submodules are checked out automatically. For my repo, I ran</p><pre><code class=language-terminal data-lang=terminal>git clone --recurse-submodules https://github.com/FireJuun/code-embers-website.git
</code></pre><h4 id=connecting-your-submodules>Connecting your Submodule(s)</h4><ul><li><strong>IMPORTANT</strong> You must go into your submodule(s) and connect it to the master/main branch of its original repository. Without first navigating to your new submodule and setting the branch, all commits will be &lsquo;headless&rsquo; and won&rsquo;t be easily accessible on your GitHub repo. <a href=https://chrisjean.com/git-submodules-adding-using-removing-and-updating/>This article</a> explains that very well.</li></ul><pre><code class=language-terminal data-lang=terminal>cd themes/cloud-theme
git checkout master
</code></pre><h4 id=setting-up-local-npm-packages>Setting up &lsquo;Local&rsquo; NPM packages</h4><p>To run properly via <code>hugo serve -D</code>, this repo needs a few npm package dependencies, which are listed in the <code>package.json</code> file. At the time of this writing, you&rsquo;ll need to run this command whenever you clone a new repo. You should only have to run this step once.</p><pre><code class=language-terminal data-lang=terminal>npm install bootstrap @fortawesome/fontawesome-free
</code></pre><h3 id=creating-a-new-website-repo-3>Creating a New Website Repo (#3)</h3><p>Since there is no need to fork <a href=https://github.com/FireJuun/codeembers.com>my original</a> for your purposes, just create a new repo with LICENSE, README.md, and .gitignore tailored to your liking, then run</p><pre><code class=language-terminal data-lang=terminal>git push -u origin main
</code></pre><p>For me, <a href=https://github.com/FireJuun/codeembers.com/commit/10d031c5ee7e2a0b7136c36544226175cc4ea6df>this</a> is all I had in my initial commit of my <a href=https://github.com/FireJuun/codeembers.com>website repo</a>. Without any content on the repo, I would have been unable to publish to GitHub pages.</p><h2 id=connecting-github-actions>Connecting GitHub Actions</h2><ul><li><a href=https://github.com/features/actions>GitHub actions</a> is an extremely powerful means of workflow automation for continuous integration / continuous delivery (CI/CD) pipelines. My primary repo (#1) has a setup that will automatically post new content to the site each time I commit a change. Here&rsquo;s how you can build on that.</li></ul><p>First, go to <code>.github/workflows/gh-pages.yml</code> and modify the <code>external_repository</code> to the new repo you created (#3) and your <code>cname</code> to your website&rsquo;s domain name. In this file, my info is:</p><pre><code class=language-YML data-lang=YML>
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
          external_repository: FireJuun/codeembers.com
          publish_branch: main  # default: gh-pages
          publish_dir: ./public
          cname: codeembers.com
</code></pre><p>Next, follow <a href=https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key>these steps</a> to create an SSH deploy key. This is what I did:</p><ul><li>In a secure folder (a.k.a. not stored on a public repo or on the cloud), type:</li></ul><pre><code class=language-terminal data-lang=terminal>ssh-keygen -t rsa -b 4096 -C &quot;$(git config user.email)&quot; -f gh-pages -N &quot;&quot;
# You will get 2 files:
#   gh-pages.pub (public key)
#   gh-pages     (private key)
</code></pre><ul><li>Repo #1 (content) will make use of the private key</li></ul><figure><img src=/images/blog/6-podcasting/github-actions1.png width=75%></figure><figure><img src=/images/blog/6-podcasting/github-actions2.png width=75%></figure><ul><li>Repo #3 (website) will make use of the public key</li></ul><figure><img src=/images/blog/6-podcasting/github-actions3.png width=75%></figure><figure><img src=/images/blog/6-podcasting/github-actions4.png width=75%></figure><ul><li>Finally, setup GitHub pages on your public repo</li></ul><figure><img src=/images/blog/6-podcasting/github-pages.png width=75%></figure><p>You can connect this to a custom domain (suggested), but those steps are outside the scope of this article.</p><h2 id=building-your-own-podcast--brand>Building your own Podcast / Brand</h2><p>Now comes the fun part.</p><p>Look over the <code>config.yaml</code> file. I would suggest looking through this on my website and on the <a href=https://github.com/chrisreddington/cloudwithchris.com/blob/master/config.yaml>Cloud with Chris</a> site. Massive props to Chris Reddington and (originally) Matt Stratton for creating this setup. It&rsquo;s really powerful.</p><p>In a single file, we have:</p><ul><li>The ability to generate your RSS feed, including logo, authors, descriptions, categories, etc.</li><li>The ability to point to iTunes, Spotify, Google Play Subscribe, Stitcher, and Pocketcasts</li><li>The ability to add a list of terms for search engine optimization (SEO)</li></ul><p>Most of your efforts should be spent here, modifying the various settings to match your brand. Note that you&rsquo;ll only have to do this once. After that, each new podcast post is a single markdown file + mp3. That&rsquo;s it!</p><p>You can add hosts in the <code>hosts</code> folder and guests in the <code>guests</code> folder. Very, very cool stuff.</p><h3 id=changing-the-theme>Changing the Theme</h3><p>Assuming you don&rsquo;t want the &lsquo;twitter&rsquo; link to include #CodeEmbers at the end, you&rsquo;ll want to search for <code>codeembers</code> and <code>code embers</code> within your newly forked theme repo, so that you can modify this to match your own brand.</p><p>I haven&rsquo;t found a clean workaround for this yet, but whenever I modify the theme locally, I make sure that my config.yml file has the <code>theme: "cloud-theme"</code> field enabled and the <code>imports:</code> and <code>- path: github.com/FireJuun/cloud-theme</code> lines commented out.</p><p>THEME RUNS LOCALLY</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Code Embers&#34;</span>
<span style=color:#f92672>baseUrl</span>: <span style=color:#ae81ff>https://codeembers.com/</span>
<span style=color:#f92672>theme</span>: <span style=color:#e6db74>&#34;cloud-theme&#34;</span>

...

<span style=color:#f92672>module</span>:
  <span style=color:#75715e># used for importing theme directly from Github</span>
  <span style=color:#75715e># imports:</span>
  <span style=color:#75715e># - path: github.com/FireJuun/cloud-theme</span>

  <span style=color:#f92672>mounts</span>:
  - <span style=color:#f92672>source</span>: <span style=color:#e6db74>&#34;node_modules/bootstrap/dist/js/bootstrap.bundle.min.js&#34;</span>
  <span style=color:#ae81ff>...</span>
</code></pre></div><p>This way, whenever I run <code>hugo serve -D</code>, all changes made to any files within the theme submodule are updated in real-time and without the need for any commit. I&rsquo;m doing this specifically so that, if you decide you want to fork/modify my theme to match your own brand, you can do that without having to sift through all commits I made to my site&rsquo;s content.</p><p>Once I&rsquo;ve made all changes to the theme (and have committed/published back to the cloud repo), I swap the commented lines back to their original state:</p><p>THEME RUNS ON THE CLOUD (default, prior to publish)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Code Embers&#34;</span>
<span style=color:#f92672>baseUrl</span>: <span style=color:#ae81ff>https://codeembers.com/</span>
<span style=color:#75715e># theme: &#34;cloud-theme&#34;</span>

...

<span style=color:#f92672>module</span>:
  <span style=color:#75715e># used for importing theme directly from Github</span>
  <span style=color:#f92672>imports</span>:
  - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>github.com/FireJuun/cloud-theme</span>

  <span style=color:#f92672>mounts</span>:
  - <span style=color:#f92672>source</span>: <span style=color:#e6db74>&#34;node_modules/bootstrap/dist/js/bootstrap.bundle.min.js&#34;</span>
  <span style=color:#ae81ff>...</span>
</code></pre></div><p>Then, I run:</p><pre><code class=language-terminal data-lang=terminal>hugo mod get -u ./...
</code></pre><p>to update my go packages to include this newly committed theme.</p><h3 id=troubleshooting>Troubleshooting</h3><p>Here are some basic troubleshooting steps&mldr;just in case you need them</p><h3 id=fix-reset-submodules>Fix: Reset Submodules</h3><p>If you ever need to remove a submodule from your repo (for example, to change where cloud_theme is pointing), then here are the steps I&rsquo;ve found according to <a href=https://chrisjean.com/git-submodules-adding-using-removing-and-updating/>this site</a>:</p><ul><li>Remove your submodules (or all of them)</li></ul><pre><code class=language-terminal data-lang=terminal>git rm .gitmodules
</code></pre><ul><li>Open your <code>.git/config</code> file and remove the section that says:</li></ul><pre><code class=language-git data-lang=git>[submodule &quot;themes/cloud-theme&quot;]
	url = https://github.com/FireJuun/cloud-theme.git
</code></pre><ul><li>Remove the git cache of this submodule</li></ul><pre><code class=language-terminal data-lang=terminal>git rm --cached themes/cloud-theme
</code></pre><p>Now that your submodule is gone, here is how to connect it from scratch:</p><ul><li>Initialize your new submodule, and re-add the connection</li></ul><pre><code class=language-terminal data-lang=terminal>git submodule update --init --recursive
git submodule add https://github.com/FireJuun/cloud-theme.git themes/cloud-theme
</code></pre><ul><li>Open the <code>.gitmodules</code> file and set the branch / ignore settings. My preference is to have it so that you only see this change when fully committed, as per <a href=https://stackoverflow.com/a/5542452>this suggestion</a>.</li></ul><pre><code class=language-git data-lang=git>[submodule &quot;themes/cloud-theme&quot;]
	path = themes/cloud-theme
	url = https://github.com/FireJuun/cloud-theme.git
	branch = master
	ignore = dirty
</code></pre><ul><li>Navigate to your new submodule and set the branch</li></ul><pre><code class=language-terminal data-lang=terminal>cd themes/cloud-theme
git checkout master
</code></pre><p>Now, whenever you commit a new change, it should work on the proper branch.</p><h4 id=fix-large-file-storage>Fix: Large File Storage</h4><p>When I first checked out a newly cloned repo, the new clone had troubles figuring out what to do with the mp3s that were marked as &lsquo;large file storage&rsquo; items.</p><figure><img src=/images/blog/6-podcasting/error.png width=75%></figure><ul><li>If you get this error as well, open your new repo in VS Code, go to the Source Control tab, and click the + button to stage your changes&mldr;</li></ul><figure><img src=/images/blog/6-podcasting/stage-changes.png width=75%></figure><p>now your error will mostly resolve.</p><figure><img src=/images/blog/6-podcasting/stage-changes2.png width=75%></figure><h4 id=fix-go-packages--hugo-modules>Fix: Go Packages / Hugo Modules</h4><p>The npm package dependencies for my site are listed in the <code>package.json</code> file. At the time of this writing, you may need to install these packages to get your theme to run locally. You should only have to run this step once.</p><pre><code class=language-terminal data-lang=terminal>npm install bootstrap @fortawesome/fontawesome-free
</code></pre><p>If your theme works as intended when run locally via <code>hugo serve -D</code>, but fails to update when you publish to your site, you need make sure that your config.yml file has the <code>theme:</code> section commented out and that your theme repo has been updated. If that is already done, then running <code>hugo mod get -u ./...</code> should fix all of your problems.</p><p>If that doesn&rsquo;t work for some reson, the way I &lsquo;restart&rsquo; my setup from scratch is by running:</p><pre><code class=language-terminal data-lang=terminal>rm go.*
hugo mod init codeembers-website
hugo serve -D
</code></pre><ul><li>Remove all existing go packages</li><li>Re-initialize this project as a Hugo Module</li><li>Load the site again</li></ul><p>That should recreate the files present in this repo to get your theme submodule reconnected.</p><h2 id=conclusion>Conclusion</h2><p>Most of what I&rsquo;ve shown today are one-time steps only (+ troubleshooting&mldr;just in case). Once you have your new site established, posting new content takes literally seconds. New markdown file + timestamp, new mp3, publish. Best of all, these efforts are free, open source, and incredibly powerful.</p><p>Happy podcasting!</p></div></div></div></div></section><section id=call-to-action><div class=container><div class=row><div class=col-md-12><div class=block><h2 class="title wow fadeInDown" data-wow-delay=.3s data-wow-duration=500ms>Want to Learn More?</h1><a href=/contact class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=.7s data-wow-duration=500ms>Contact Us</a></div></div></div></div></section><footer id=footer><div class=container><div class="row content-justify-between"><div class="col-md-8 col-12 text-center text-lg-left text-md-left"><p class=copyright>Copyright
<span><script>document.write((new Date).getFullYear())</script></span>by MayJuun, LLC<br><a href=mailto:info@mayjuun.com>info@mayjuun.com</a><br><br>Website Theme:<br>Copyright 2020. Designed and Developed by <a href=http://www.themefisher.com target=_blank>Themefisher</a></p></div><div class="col-md-4 col-12"><ul class="social text-center text-md-right text-lg-right"></ul></div></div></div></footer><script src=https://mayjuun.com/plugins/jQurey/jquery.min.js></script><script src=https://mayjuun.com/plugins/form-validation/jquery.form.js></script><script src=https://mayjuun.com/plugins/form-validation/jquery.validate.min.js></script><script src=https://mayjuun.com/plugins/slick/slick.min.js></script><script src=https://mayjuun.com/plugins/bootstrap/bootstrap.min.js></script><script src=https://mayjuun.com/plugins/wow-js/wow.min.js></script><script src=https://mayjuun.com/plugins/slider/slider.js></script><script src=https://mayjuun.com/plugins/facncybox/jquery.fancybox.js></script><script src=https://mayjuun.com/js/script.min.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-50100304-2','auto'),ga('send','pageview')</script></body></html>